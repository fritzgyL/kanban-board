/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
drop table if exists board CASCADE 
drop table if exists card CASCADE 
drop table if exists card_tag CASCADE 
drop table if exists Department CASCADE 
drop table if exists Employee CASCADE 
drop table if exists section CASCADE 
drop table if exists tag CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table board (id bigint generated by default as identity (start with 1), title varchar(255), primary key (id))
create table card (id bigint generated by default as identity (start with 1), deadline date, description varchar(255), estimated_time integer, location varchar(255), title varchar(255), url varchar(255), section_id bigint, primary key (id))
create table card_tag (card_id bigint not null, tag_id bigint not null)
create table Department (id bigint not null, name varchar(255), primary key (id))
create table Employee (id bigint not null, name varchar(255), department_id bigint, primary key (id))
create table section (id bigint generated by default as identity (start with 1), title varchar(255), board_id bigint, primary key (id))
create table tag (id bigint generated by default as identity (start with 1), title varchar(255), primary key (id))
alter table card add constraint FKifoen1nlxvmd5bhkity3j1c1f foreign key (section_id) references section
alter table card_tag add constraint FK7k10rbho3y9gx2xqetmjdp80k foreign key (tag_id) references tag
alter table card_tag add constraint FKasotkdaf7gqrkqwj4fumkfsnb foreign key (card_id) references card
alter table Employee add constraint FK14tijxqry9ml17nk86sqfp561 foreign key (department_id) references Department
alter table section add constraint FKifp4vbxdydwce3dod026jlipu foreign key (board_id) references board
INSERT INTO DEPARTMENT VALUES(1,'java')
INSERT INTO EMPLOYEE VALUES(2,'Jakab Gipsz',1)
INSERT INTO EMPLOYEE VALUES(3,'Captain Nemo',1)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 4
COMMIT
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
drop table if exists board CASCADE 
drop table if exists card CASCADE 
drop table if exists card_tag CASCADE 
drop table if exists Department CASCADE 
drop table if exists Employee CASCADE 
drop table if exists section CASCADE 
drop table if exists tag CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table board (id bigint generated by default as identity (start with 1), title varchar(255), primary key (id))
create table card (id bigint generated by default as identity (start with 1), deadline date, description varchar(255), estimated_time integer, location varchar(255), title varchar(255), url varchar(255), section_id bigint, primary key (id))
create table card_tag (card_id bigint not null, tag_id bigint not null)
create table Department (id bigint not null, name varchar(255), primary key (id))
create table Employee (id bigint not null, name varchar(255), department_id bigint, primary key (id))
create table section (id bigint generated by default as identity (start with 1), title varchar(255), board_id bigint, primary key (id))
create table tag (id bigint generated by default as identity (start with 1), title varchar(255), primary key (id))
alter table card add constraint FKifoen1nlxvmd5bhkity3j1c1f foreign key (section_id) references section
alter table card_tag add constraint FK7k10rbho3y9gx2xqetmjdp80k foreign key (tag_id) references tag
alter table card_tag add constraint FKasotkdaf7gqrkqwj4fumkfsnb foreign key (card_id) references card
alter table Employee add constraint FK14tijxqry9ml17nk86sqfp561 foreign key (department_id) references Department
alter table section add constraint FKifp4vbxdydwce3dod026jlipu foreign key (board_id) references board
INSERT INTO DEPARTMENT VALUES(1,'java')
INSERT INTO EMPLOYEE VALUES(2,'Jakab Gipsz',1)
INSERT INTO EMPLOYEE VALUES(3,'Captain Nemo',1)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 4
COMMIT
DISCONNECT
